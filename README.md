# Bigdata_midterm_team1
빅데이터개론 중간고사 team1
1번 데이터 전처리 과정 
-데이터를 원본 보관하는 이유는 나중에 전처리 및 분석 과정 중 원본 데이터의 손상, 변형을 방지하기 위함이다
-여러 방법으로 표현 돤 결측치를 NaN으로 처리하는  이유는 결측치를 나중에 한번에 처리하기 위함이다다.
-결측치가 나무 많은 행을 제거하는 이유은 전처리 하는 과정에서 결측치를 매울 때에 유의마한 결과값을 얻기 어렵기 때문이고 또 열의 모든 값이 다른 id와 같은 값들은 다른 열 과의 연관성을 파악하기 어렵기 때문에 제거 할 수 있다.
-이제 범주형 데이터와 연속형 데이터를 나눠야 한다. 그 이유는 각각 결측치를 매우는 방법이 다르고 범주형 데이터는 이상치를 제거할 필요가 없기 때문이다. 
-이 코드에서는 한 열에서의 고유값의 개수를 가지고서 범주형과 연속형으로 나눈다. 그 이유는 일차적으로 이 데이터를 관찰 했을 때에 고유값의 개수가 특정 값보다 많으면 연속형 데이터일 수 있기 때문이다. 그 이유는 상대적으로 범주형 데이테열은 고유값의 개수가 적기 때문이다. 
-범주형 데이터는 각 칼럼의 고유값이 5가 보다 많거나 같으면 label encoding을 한다. 그 이유는 0과 1을 너무 많이 사용해 버리면 차원의 저주라는 문제가 생길 수 있기 때문이다. 그래서 개수가 5보다 적으면 one-hot encoding으로 한다. 
-이상치 제거는 사분위수를 이용하는 빙식인 IQR방식을 이용해서 한다
-그리고 정규화와 표준화를 해서 비교하기 쉽게 만들어 준다.

2번 데이터 전처리 과정
일단 성별, 교육 수준, 결혼 상태 그리고 상환이력 여부를 범주형 데이터로 데이터 타입을 바꿔 준다
그런 다음에는 사실상 열들끼리 큰 연관과계를 보이지 않는 id열을 삭제해 준다. 
그리고 사분위 수를 이용한 방식으로 이상치를 처리 한다.
그리고 int와 float로 데이터 타입이 정해진 열은 평균으로 결측치를 매우고 object와 category로 데이터 타입이 정해진 열은 최빈값으로 결측치를 체우고 고유값이 5개 이상이면 Label Encoding 아니면 One-Hot Encoding 을 한다. 
-개선점: 결측치나 이상치 처리를 할 때에 자료의 맥락을 관찰 하고 의도에 더 부합하는 방법으로 전처리를 할 수 있었으면 더 좋을 것 같다.


3번 데이터 전처리 과정 
-일단 각 열의 데이터 타입을 확인한 이후에 데이터 타입이 잘못 설정되었다고 생각하는 열들의 데이터 타입을 바꿔 준다. id와 host_id는 숫자로 이루어져 있어서 int64로 인식 되었지만 사실상 연속형 변수에 헤당한다고 생각해서 object로 데이터 타입을 바꾸었다. 
-그런 다음에 결측치에 관한 정보들을 확인 하고서 사분위수를 이용한 방식으로 이상치를 처리 하고 연속형 데이터 타입을 가진 행들의 결측치를 평균으로 체우고 MinMaxScaler 로 쉽게 비교 할 수 있도록 정규화 한다. 이때에 availability_365 를 제외한다. 그 이유는 다른 열들과 그 열의 관계를 보려고 전처리 하는 것이기 떄문이다. 
-범주형 데이터 타입을 가진 열들은 결측치를 최빈값으로 매우고 교유값이 정해진 기준인인 5개 이상이면 Label Encoding, 5개 미만이면 One-Hot Encoding 을 한다. 그 이유는 아까와 마찬가지로 그 이유는 0과 1을 너무 많이 사용해 버리면 차원의 저주라는 문제가 생길 수 있기 때문이다.
-데이터를 관찰 할 시간이 부족했어서 만약 시간이 주어 진다면 열별로 조금 다른 방식으로 결측치를 처리 하고 이상치를 처리 할 수 있을 것 같다. 
-개선점: 결측치 처리, 스케일링, 인코딩 등을 각기 다른 함수로 분리하여 관리하면 더 깔끔하고 이해하기 쉬울것 같다.

4데이터 전처리 과정

5번 데이터 전처리 과정
-일단 고유값이 개수가 작은 순서대로 오름차순으로 정리 한다.  
-그 다음에 고유값의 개수가 적은 8개의 열들을 category 타입으로 변환하고 결측치 비율이 5%를 초과하는 열들을 삭제한다. 
-그런 다음에는 테이터에 필요하지 않거나 분석에 영향을 주지 않는 열을 삭제하고 wage_eur는 이미 타겟 변수와 관련된 정보가 포함되어 있어서 예측 모델링에 방해가 될 수 있기 때문에 제거한다. 
-그리고 나서 사분위수를 이용한 방식으로 이상치를 처리 하고 연속형 데이터 타입을 가진 행들의 결측치를 평균으로 체우고 MinMaxScaler 로 쉽게 비교 할 수 있도록 정규화 한다. 
-범주형 데이터 타입을 가진 열들은 결측치를 최빈값으로 매우고 교유값이 정해진 기준인인 5개 이상이면 Label Encoding, 5개 미만이면 One-Hot Encoding 을 한다. 
-개선점: 모든 수치형에 IQR을 적용하면 중요한 극단값을 손상 시킬 수 있다. 물론 뒤에 결측치를 평균으로 체우기 때문에 먼저 이상치 처리가 필요 하지만 유망주를 발굴하기 위해서 전처리를 하는 만큼 문제가 될 수 있다. 

6번 테이터 전처리 과정
일단 중복치를 제거 한다. 그리고 실제로 다양하게 표현되어있는 결측치를 추후에 한번에 처리하기 위해서 모두 NaN으로 바꿔준다. 그리고 나서 결측치 비율이 50%이상인 열은 제거 모든 값이 동일한 열은 제거한다. 그 이유는 크게 의미를 부여하기 어렵기 때문이다. 그리고 나서 고유값이 99% 이상인 컬럼은 제거한다. 그 이유는 만약 컬럼의 고유값 비율이 99% 이상이면, 모든 값이 거의 다르다는 의미로 ID와 같은 값값이기 때문에 제거한다. 
-이 코드에서는 한 열에서의 고유값의 개수를 가지고서 범주형과 연속형으로 나눈다. 그 이유는 일차적으로 이 데이터를 관찰 했을 때에 고유값의 개수가 특정 값보다 많으면 연속형 데이터일 수 있기 때문이다. 그 이유는 상대적으로 범주형 데이테열은 고유값의 개수가 적기 때문이다. 
-범주형 데이터는 각 칼럼의 고유값이 5가 보다 많거나 같으면 label encoding을 한다. 그 이유는 0과 1을 너무 많이 사용해 버리면 차원의 저주라는 문제가 생길 수 있기 때문이다. 그래서 개수가 5보다 적으면 one-hot encoding으로 한다. 
-이상치 제거는 사분위수를 이용하는 빙식인 IQR방식을 이용해서 한다
-그리고 정규화와 표준화를 해서 비교하기 쉽게 만들어 준다.


7번 데이터 전처리 과정
-결측치 처리를 위해서 연속형과 범주형을 분류 해야한다. 따라서 각 행별로 고유값의 개수를 확인한 뒤에 기준으로 적절한 값으로 여겨지는 값인 15를 기준으로 고유값이 15개 보다 적으면 범주형 취급을 한다. 그리고 아닌 것은 연속형 취급을 한다. 
-그리고 사분위수를 이용한 IQR방법을 이용해서 이상치를 제거하고
-One-Hot Encoding 을 이용해서 범주형 데이터 타입을 가진 열들을 인코딩 하고 
-MinMaxScaler를 이용해서 연속형 데이터 열들을 비교하기 쉽게 정규화 해준다. 
-그리고 중복된 데이터를 제거한다. 
-개선점: 연속형 및 범주형 변수 구분을 함수화 해서 동일한 과정을 여러번 반복하지 말고 코드의 재사용성을 높일 수 있을 것 같다. 
